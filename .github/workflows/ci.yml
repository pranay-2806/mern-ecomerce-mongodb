name:  CI

on:
  push:
    branches:  ["main"]
  pull_request:
    branches:  ["main"]

jobs:
  build:
    runs-on:  ubuntu-latest

    steps:
      - name:  Checkout code
        uses:  actions/checkout@v4

      - name:  Setup Node
        uses:  actions/setup-node@v4
        with:
          node-version: 18
        

        #Backend setup
      - name:  Install backend dependencies
        working-directory:  ./Backend
        run:  npm install

        #frontend setup
      - name:  Install frontend dependencies
        working-directory:  ./Ecommerce-page
        run:  npm install

        #Frontend Build
      - name:  Build frontend
        working-directory:  ./Ecommerce-page
        run:  npm run build

      - name:  CI Completed
        run:  echo "Build sucessful"